import{T as y}from"./TarjetaMenu-b09ddf70.js";import{q as x,u as w,s as v,r as n,i as L,w as $,o as S,t as m,c as d,d as l,e as s,v as T,F as j,f as k,U as f,g as b}from"./index-7e2bc631.js";/* empty css                                                                          *//* empty css                                                                    */const E={style:{"margin-top":"3rem"}},N={style:{position:"relative",display:"flex","justify-content":"center","align-items":"center"},class:"text-center text-6xl col-12 mb-8"},B={class:"m-0 text-4xl md:text-7xl"},P={class:"text-white"},R={class:"grid px-3 pb-8",style:{"max-width":"1024px",margin:"auto",position:"relative"}},F=s("div",{style:{position:"absolute",display:"flex",right:"100%",gap:"10rem",height:"100vh","max-width":"100%","justify-content":"space-around","flex-direction":"column","z-index":"9"}},null,-1),q={__name:"sesion_main",setup(H){x();const u=w(),a=v(),g=n([]),p=L();$(()=>p.params.category_id,async()=>{p.params.category_id&&(_(),await m())},{deep:!0});const c=n([]),_=async r=>{const o=u.location.site.site_id,t=c.value[0].category_id;if(t&&o){a.setLoading(!0,"cargando productos");try{let e=await fetch(`${f}/products-active/category-id/${t}/site/${o}/2`);if(!e.ok)throw a.setLoading(!1,"cargando productos"),new Error(`HTTP error! status: ${e.status}`);a.setLoading(!1,"cargando productos");let i=await e.json();g.value=i}catch(e){a.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",e)}}},h=async()=>{const r=u.location.site.site_id,o=2;if(r){a.setLoading(!0,"cargando productos");try{let t=await fetch(`${f}/categories_main/${r}/${o}`);if(!t.ok)throw a.setLoading(!1,"cargando productos"),new Error(`HTTP error! status: ${t.status}`);a.setLoading(!1,"cargando productos");let e=await t.json();c.value=e}catch(t){a.setLoading(!1,"cargando productos"),console.error("Error fetching data: ",t)}}};return S(async()=>{await h(),await _(),await m()}),n(JSON.parse(localStorage.getItem("currentNeigborhood"))),(r,o)=>{var t;return d(),l("div",E,[s("div",N,[s("h2",B,[s("b",P,T((t=c.value[0])==null?void 0:t.category_name),1)])]),s("div",R,[F,(d(!0),l(j,null,k(g.value,(e,i)=>(d(),l("div",{key:e.id,class:"col-12 md:col-6 lg:col-4 xl:col-3"},[b(y,{style:{width:"100%"},id:`tarjeta-${i}`,index:i+1,product:e},null,8,["id","index","product"])]))),128))])])}}};export{q as default};
